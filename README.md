This code is described in my blog at: https://birdsbits.wordpress.com/2017/09/30/asp-net-core-razor-pages-part-1

